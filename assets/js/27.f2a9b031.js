(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{409:function(t,s,a){"use strict";a.r(s);var r=a(25),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"项目模版-发布脚手架工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目模版-发布脚手架工具"}},[t._v("#")]),t._v(" 项目模版,发布脚手架工具")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("项目地址")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/wujc-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/actualchao/chao-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("github"),a("OutboundLink")],1)])])]),t._v(" "),a("h1",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g wujc-cli\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h1",{attrs:{id:"commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[t._v("#")]),t._v(" commands")]),t._v(" "),a("p",[t._v("支持的功能")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#init"}},[t._v("init 模版生成器")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#deploy"}},[t._v("deploy 资源发布")])])]),t._v(" "),a("h1",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("h2",{attrs:{id:"init"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[t._v("#")]),t._v(" init")]),t._v(" "),a("p",[t._v("运行 init 会交互式的询问需要应用的项目模板，然后根据模版生成对应项目。")]),t._v(" "),a("h3",{attrs:{id:"运行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行命令"}},[t._v("#")]),t._v(" 运行命令")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按照模板初始化项目")]),t._v("\nchao init "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("app-name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"目前已支持的-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目前已支持的-template"}},[t._v("#")]),t._v(" 目前已支持的 template")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("vw-app")]),t._v(" 移动端 "),a("code",[t._v("vw")]),t._v(" 适配方案下的 h5 项目模版.")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"deploy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[t._v("#")]),t._v(" deploy")]),t._v(" "),a("p",[t._v("根据配置文件或者交互式命令行配置连接服务器，发布资源。实现一键本地打包上传到服务端。")]),t._v(" "),a("p",[t._v("打包命令会筛选出项目中 "),a("code",[t._v("package.json")]),t._v(" 中包含 "),a("code",[t._v("build")]),t._v(" 字符的所有命令以供选择。")]),t._v(" "),a("h3",{attrs:{id:"运行命令-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行命令-2"}},[t._v("#")]),t._v(" 运行命令")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发布到服务器")]),t._v("\nchao deploy\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 命令行帮助")]),t._v("\nchao deploy --help\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"配置方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置方式"}},[t._v("#")]),t._v(" 配置方式")]),t._v(" "),a("ul",[a("li",[a("code",[t._v(".deploy.json")]),t._v(" 配置文件配置")]),t._v(" "),a("li",[t._v("命令行参数配置,运行 "),a("code",[t._v("chao deploy --help")]),t._v(" 查看详细")]),t._v(" "),a("li",[t._v("命令行交互询问式配置，在本地配置和命令行参数配置合并后仍然缺少配置的时候启动交互")])]),t._v(" "),a("p",[t._v("交互询问配置方式会在最后提示是否需要将配置写入配置文件中。")]),t._v(" "),a("p",[a("strong",[t._v("密钥文件必须存放到项目中 "),a("code",[t._v("project/.deploy.private")]),t._v(" ,如果交互配置输入的不是项目中该路径，将会将密钥拷贝到该位置。")])]),t._v(" "),a("h3",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// project/.deploy.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hostname"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.10.77.175"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"identity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".deploy.private"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"local"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/opt/static/testapp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"script"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" options")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#hostname"}},[t._v("hostname")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#port"}},[t._v("port")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#user"}},[t._v("user")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#identity"}},[t._v("identity")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#local"}},[t._v("local")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#remote"}},[t._v("remote")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#script"}},[t._v("script")])])]),t._v(" "),a("h4",{attrs:{id:"hostname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hostname"}},[t._v("#")]),t._v(" hostname")]),t._v(" "),a("p",[t._v("服务器主机地址，仅限 "),a("code",[t._v("ipv4")])]),t._v(" "),a("h4",{attrs:{id:"port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#port"}},[t._v("#")]),t._v(" port")]),t._v(" "),a("p",[t._v("服务器ssh连接端口，默认 22 ，不支持命令行交互配置")]),t._v(" "),a("h4",{attrs:{id:"user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[t._v("#")]),t._v(" user")]),t._v(" "),a("p",[t._v("服务器主机登陆账号，默认 root ，不支持命令行交互配置")]),t._v(" "),a("h4",{attrs:{id:"identity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#identity"}},[t._v("#")]),t._v(" identity")]),t._v(" "),a("p",[t._v("服务器 ssh 免密登陆密钥文件路径")]),t._v(" "),a("p",[a("strong",[t._v("密钥文件必须存放到项目中 "),a("code",[t._v("project/.deploy.private")]),t._v(" ,如果交互配置输入的不是项目中该路径，将会将密钥拷贝到该位置。")])]),t._v(" "),a("h4",{attrs:{id:"local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#local"}},[t._v("#")]),t._v(" local")]),t._v(" "),a("p",[t._v("本地打包生成资源相对项目目录的"),a("strong",[t._v("相对路径")]),t._v("，例如 "),a("code",[t._v("dist")]),t._v(", "),a("code",[t._v("./dist")])]),t._v(" "),a("h4",{attrs:{id:"remote"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remote"}},[t._v("#")]),t._v(" remote")]),t._v(" "),a("p",[t._v("服务端资源放置绝对路径，例如 "),a("code",[t._v("/opt/static/testapp")])]),t._v(" "),a("p",[t._v("发布的时候如果已经存在该路径，会把该路径备份到该路径拼接 "),a("code",[t._v(".bak")]),t._v(" 的新文件夹中")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("p",[t._v("备份远程仓库  /opt/static/testapp  到 /opt/static/testapp.bak/2020-12-21_10:15:33")]),t._v(" "),a("h4",{attrs:{id:"script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script"}},[t._v("#")]),t._v(" script")]),t._v(" "),a("p",[t._v("打包命令会筛选出项目中 "),a("code",[t._v("package.json")]),t._v(" 中包含 "),a("code",[t._v("build")]),t._v(" 字符的所有命令以供选择。")]),t._v(" "),a("h4",{attrs:{id:"usepassword"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usepassword"}},[t._v("#")]),t._v(" usePassword")]),t._v(" "),a("p",[t._v("是否使用密码登录服务器")])])}),[],!1,null,null,null);s.default=e.exports}}]);